# 期末考试复习细节

## 第七章 链接

ccp -> .i -> cc1 -> .s -> as -> .o -> ld -> prog

## 第八章 异常控制流

## 第九章 虚拟内存

TLB 对页表进行缓存，以 VPN 查询

TLB 可以在 MMU 内缓存多级页表，页表存在于内存中，只有一级页表常驻内存，其他级别的页表在需要时才加载到内存中（或者根本没创建）

内部碎片：分配块大小-有效载荷大小，包括头脚部

Cache 高速缓存是物理寻址的，进程切换时/内核态切换时不需要刷新

TLB 是虚拟寻址的，进程切换时需要刷新，但是内核态切换时不需要刷新（因为内核态的虚拟地址空间是共享的，即不改变内存映射）

## 第十章 系统级 I/O

## 第十一章 网络编程

IP地址和端口号总是以网络字节序存储，即大端序

## 第十二章 并发编程

可重入的：不引用任何共享变量

* 显式可重入：函数参数都是按值传递的，并且所有数据引用都是本地自动栈变量（没有引用静态/全局变量）
* 隐式可重入：允许传递指针，但是线程小心地传递指向非共享数据的指针

线程安全的：多个并发线程反复调用该函数，不会出错

线程不安全类：

* 不保护共享变量
* 保持跨越多个调用的状态信息，如随机数发生器
* 返回指向静态变量的指针
* 调用了线程不安全的函数，但这类不一定是线程不安全的