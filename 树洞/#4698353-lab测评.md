#4698353 2023-02-17 11:20 关注数：84 回复数：15

写个 ics 的 lab 测评，ics 你怎么还不出分啊（恼

#datalab #bomblab #attacklab #archlab #cachelab #tshlab #shelllab #malloclab #proxylab

#信科 xk ics 数算 集图 数分

#21302577 2023-02-17 11:23

[Alice] 卧槽出了！

#21302612 2023-02-17 11:27

[洞主] 捞捞往年的此类洞，好洞不该沉了

1944274

2699613

3073336

3857356

以及 szm 大佬的环境配置帖

https://mp.weixin.qq.com/s/Xa8-OOddoAKoulUQjE8k3Q

也可以参考大信科公众号发过的教程

#21302617 2023-02-17 11:27

[洞主] Re Alice: 不会又是前面那个洞的 alice 吧 😓

#21302789 2023-02-17 11:40

[洞主] # datalab

轻松愉快的小练习，带您迅速熟悉位运算基本操作。

要求用位运算完成一些实现指定功能的函数，总体难度不大，充分缓解了我对 ics 的恐惧（x）。有些函数的思路比较反人类，建议直接上网搜或者问其他人。别太担心查重，思路就那几个。

第一次做 lab 的主要时间可能花在熟悉 linux 上面了，趁着 datalab 比较轻松可以多玩玩 linux，后面会有用的 x

#21308322 2023-02-17 17:14

[洞主] # bomblab

锻炼阅读汇编语言和 gdb 调试的能力，配合 csapp 第三章食用。

bomb 共 6 个 phase，另有 1 个 secret phase。输错爆炸，爆炸扣分，所以一定要记得打断点，不过据今年来看炸几次也不会扣很多分（当然不炸最好）。（另：每个人的 bomb 不同，但差别不大，所以实在不会做可以互相交流思路）

有大佬会本地化完成，感兴趣可看 4142221。对普通人来说属实没必要，打个断点防爆炸就好了。

tips：把反汇编出来的代码保存为 asm 文件并用 vscode 打开可以大大改善可读性，快捷键 ctrl+K ctrl+0 可以折叠所有代码。

#21315187 2023-02-18 08:55

[洞主] # attacklab

栈溢出攻击，通过反复手动模拟和 gdb 调试熟悉运行时栈的结构，同时也能进一步熟悉 gdb。

总体难度不大，靠后的 phase 还是很巧妙的，如果实在想不出来同样可以和同学交流思路。

（无端联想，过去 ics 的卷子喜欢出整活但不一定有实际意义的题目，是否是受到了 bomblab 和 attacklab 的某种影响 x）

#21327918 2023-02-19 08:22

[洞主] # archlab

dz 认为前 3 个 lab 是一个难度，archlab 和 cachelab 是一个难度，最后 3 个 lab 又是一个难度。所以到 archlab 的时候会感觉明显比前面的 lab 难。

part a 和 b 较为简单，不赘述了。part c 亲测不改 hcl 也可以满分，但是思路极其单一（三叉树+10 路展开）。单一到什么程度呢，一开始是自己写的，然而为了优化到满分，它逐渐变得和网上的满分代码 literally 一模一样（也可能是我太菜了），最终也只是踩线满分而已…舍友改 hcl 则可以把 cpi 降到满分线下很多，但是 hcl 改起来似乎很折腾。总之，archlab 不难，但想拿满分要费不少事情，特别是 dz 觉得后面痛苦改汇编的过程并没有给我带来什么提高。考虑到每个 lab 仅占总评的不超过 5 分，其实为了总评的 0.1 甚至 0.01 花太多时间和精力真不值得。

#21331537 2023-02-19 13:13

[Bob] HCL 其实也很好改的，而不过网上没有现成教程，必须自己思考罢了……

#21742894 2023-03-13 17:37

[洞主] 我总有一天会回来填坑的（x）开学忙傻了

#22894803 2023-05-18 15:48

[Carol] dz 开学忙到期末了, 所以不知名路人帮 dz 填坑:

# cachelab

这个 lab 难度其实主要在于它大概和期中考试同步, 在期中前后还要写个 lab 极其痛苦。具体内容是书上的优化矩阵转置，需要你卡 cache 常数。和 archlab 不改 hcl 的方法一样，cachelab 做法也相对单一，如果你做不出来就直接参考网上的话会导致收获比较小。总之就是挺无聊的

#22894979 2023-05-18 15:59

[Carol] # shelllab

不用卷性能，写一个 shell 通过所有测试点都可以。这部分主要是熟悉使用 Linux 和进程有关的系统调用, 回头看倒是没什么难点, 但是当时面对十几个全新的系统调用、每个系统调用都有不同的参数、还有一些参数是宏(点名 WNOHANG | WUNTRACED)、以及从未遇到过的控制流切换(handler), 还是需要一些时间把这些东西的意义都啃完的。race condition 倒是比较简单，sigprocmask 还是比 P, V 温柔很多。

由于刚讲到那一章就会发 shelllab, 你需要在一周尽快熟悉每个系统调用是干什么的，要不然完全开动不了，精确地知道自己在干什么也能让你在调试的时候从容一些。C 君写这个 lab 的时候看了一周多的书和 handout 才开始写，调完 race 就一遍过了

#22895180 2023-05-18 16:16

[Carol] # malloclab

精神折磨的根源，通了三个宵。得分构成上内存效率和时间效率都占分数，然后为了效率你要去优化一个 memory allocator。优化过程中产生的 bug 只能用“有毒”来形容

注意事项就是:

1. 时刻记住自己这个位置存的是个数还是个指针

2. 时刻记住对于指针操作要把指针先转成 char\* 再 +1 才是移动一个 Byte

3. 仔细看书上和代码里提到的内存块的结构, 可能和你想象的不太一样

4. 尽量不要去找心理医生, 通宵是正常的, 通完宵一分没得也是正常的, 重写是正常的, 重写之后也不对也是正常的

这个 lab 有 100 分, 基本上你需要实现一个主要优化（不剧透）拿到大部分分数和一个次要优化（同样不剧透）拿到 95+的分数

95+以后就比较无聊, 这里剧透一下: 如果你在 95 的基础上超时了一点点, 你就要考虑到, 系统调用相对于函数调用是个比较慢的事情, 你可以减少某个系统调用的次数来获得最后的几分

#22895253 2023-05-18 16:22

[Carol] # proxylab

相当于 IO+网络编程+并发编程+一点点 cache

涉及知识点比较多但是和书上的样例代码基本没有区别

22-23 学期在这个 lab 上给了非常充裕的时间, 可能把难度稀释了, 每天写写就行。如果需要在期末季把这个事情干完还是挺麻烦的，建议把精力主要用在思考“用书上的哪块代码能解决我现在遇到的问题”，除 cache 以外的代码真都在书上

#23077867 2023-05-30 11:02

[洞主] 谢谢 carol！今天摸鱼的时候突然想起来这个洞决定来填坑，结果 Carol 写完了，乐

#24705090 2023-09-20 09:47

[洞主] 今年来当 ics 助教了！

虽然助教不该写这个，但是我去年写的和今年又有什么关系呢（乐
